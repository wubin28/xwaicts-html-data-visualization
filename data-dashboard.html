<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI智能体表现数据看板</title>

    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <!-- Custom CSS for light theme -->
    <style>
        body {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            min-height: 100vh;
        }

        .dashboard-header {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            margin: 20px 0;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .chart-container {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            margin: 20px 0;
            padding: 25px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }

        .chart-title {
            color: #2c3e50;
            font-weight: 600;
            margin-bottom: 20px;
            text-align: center;
            font-size: 1.2rem;
        }

        .stats-card {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 10px;
            padding: 20px;
            margin: 10px 0;
            text-align: center;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }

        .stats-number {
            font-size: 2rem;
            font-weight: bold;
            color: #3498db;
        }

        .stats-label {
            color: #7f8c8d;
            font-size: 0.9rem;
            margin-top: 5px;
        }

        @media (max-width: 768px) {
            .dashboard-header {
                margin: 10px;
                padding: 20px;
            }

            .chart-container {
                margin: 10px;
                padding: 15px;
            }

            .chart-title {
                font-size: 1.1rem;
            }
        }
    </style>
</head>
<body>
    <div class="container-fluid">
        <!-- Header Section -->
        <div class="dashboard-header">
            <div class="row align-items-center">
                <div class="col-md-8">
                    <h1 class="text-center text-md-start" style="color: #2c3e50; font-weight: 700;">
                        🤖 AI智能体表现数据看板
                    </h1>
                    <p class="text-muted text-center text-md-start mb-0">
                        基于Agentic AI Performance Dataset 2025的综合分析
                    </p>
                </div>
                <div class="col-md-4">
                    <div class="stats-card">
                        <div class="stats-number" id="totalRecords">80</div>
                        <div class="stats-label">总记录数</div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Charts Row 1 -->
        <div class="row">
            <div class="col-lg-6 mb-4">
                <div class="chart-container">
                    <h3 class="chart-title">📊 智能体类型多模态能力占比排名</h3>
                    <canvas id="agentTypeChart"></canvas>
                </div>
            </div>
            <div class="col-lg-6 mb-4">
                <div class="chart-container">
                    <h3 class="chart-title">🔧 模型架构多模态能力占比排名</h3>
                    <canvas id="modelArchitectureChart"></canvas>
                </div>
            </div>
        </div>

        <!-- Charts Row 2 -->
        <div class="row">
            <div class="col-12 mb-4">
                <div class="chart-container">
                    <h3 class="chart-title">⚖️ 任务类别公正性评分排名（中位数）</h3>
                    <canvas id="taskCategoryChart"></canvas>
                </div>
            </div>
        </div>
    </div>

    <!-- Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <!-- Dashboard Script -->
    <script>
        // Load dashboard data from JSON file
        let dashboardData = null;

        async function loadDashboardData() {
            try {
                const response = await fetch('dashboard_data.json');
                dashboardData = await response.json();

                // Update total records display
                document.getElementById('totalRecords').textContent = dashboardData.total_records;

                // Create charts after data is loaded
                createAgentTypeChart();
                createModelArchitectureChart();
                createTaskCategoryChart();

            } catch (error) {
                console.error('Error loading dashboard data:', error);
                // Fallback: create charts with sample data
                createChartsWithSampleData();
            }
        }

        function createAgentTypeChart() {
            const ctx = document.getElementById('agentTypeChart').getContext('2d');
            const data = dashboardData ? dashboardData.agent_type_rankings : [
                {agent_type: 'Autonomous Agent', percentage: 100.0},
                {agent_type: 'Reactive Agent', percentage: 100.0},
                {agent_type: 'Collaborative Agent', percentage: 0.0}
            ];

            new Chart(ctx, {
                type: 'bar',
                data: {
                    labels: data.map(item => item.agent_type),
                    datasets: [{
                        label: '多模态能力占比 (%)',
                        data: data.map(item => item.percentage),
                        backgroundColor: [
                            'rgba(52, 152, 219, 0.8)',
                            'rgba(46, 204, 113, 0.8)',
                            'rgba(231, 76, 60, 0.8)'
                        ],
                        borderColor: [
                            'rgba(52, 152, 219, 1)',
                            'rgba(46, 204, 113, 1)',
                            'rgba(231, 76, 60, 1)'
                        ],
                        borderWidth: 2,
                        borderRadius: 8
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100,
                            ticks: {
                                callback: function(value) {
                                    return value + '%';
                                }
                            },
                            grid: {
                                color: 'rgba(0, 0, 0, 0.1)'
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            }
                        }
                    }
                }
            });
        }

        function createModelArchitectureChart() {
            const ctx = document.getElementById('modelArchitectureChart').getContext('2d');
            const data = dashboardData ? dashboardData.model_architecture_rankings : [
                {model_architecture: 'Transformer', percentage: 100.0},
                {model_architecture: 'RNN', percentage: 100.0},
                {model_architecture: 'CNN', percentage: 0.0}
            ];

            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: data.map(item => item.model_architecture),
                    datasets: [{
                        data: data.map(item => item.percentage),
                        backgroundColor: [
                            'rgba(155, 89, 182, 0.8)',
                            'rgba(26, 188, 156, 0.8)',
                            'rgba(241, 196, 15, 0.8)'
                        ],
                        borderColor: [
                            'rgba(155, 89, 182, 1)',
                            'rgba(26, 188, 156, 1)',
                            'rgba(241, 196, 15, 1)'
                        ],
                        borderWidth: 2
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                padding: 20,
                                usePointStyle: true
                            }
                        }
                    }
                }
            });
        }

        function createTaskCategoryChart() {
            const ctx = document.getElementById('taskCategoryChart').getContext('2d');
            const data = dashboardData ? dashboardData.task_category_rankings : [
                {task_category: 'Image Recognition', median_bias: 68.0},
                {task_category: 'Multimodal', median_bias: 66.0},
                {task_category: 'Text Analysis', median_bias: 66.0}
            ];

            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: data.map(item => item.task_category),
                    datasets: [{
                        label: '公正性评分中位数',
                        data: data.map(item => item.median_bias),
                        borderColor: 'rgba(230, 126, 34, 1)',
                        backgroundColor: 'rgba(230, 126, 34, 0.1)',
                        borderWidth: 3,
                        fill: true,
                        tension: 0.4,
                        pointBackgroundColor: 'rgba(230, 126, 34, 1)',
                        pointBorderColor: '#fff',
                        pointBorderWidth: 2,
                        pointRadius: 6
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: true,
                    plugins: {
                        legend: {
                            display: false
                        }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            max: 100,
                            ticks: {
                                callback: function(value) {
                                    return value;
                                }
                            },
                            grid: {
                                color: 'rgba(0, 0, 0, 0.1)'
                            }
                        },
                        x: {
                            grid: {
                                display: false
                            }
                        }
                    }
                }
            });
        }

        function createChartsWithSampleData() {
            createAgentTypeChart();
            createModelArchitectureChart();
            createTaskCategoryChart();
        }

        // Initialize dashboard when page loads
        document.addEventListener('DOMContentLoaded', function() {
            loadDashboardData();
        });
    </script>
</body>
</html>